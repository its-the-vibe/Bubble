services:
  bubble:
    build: .
    image: bubble:latest
    ports:
      - "8080:8080"
    environment:
      - BUBBLE_CONFIG=/config/config.yml
    volumes:
      # Mount config as readonly
      - ./config.yml:/config/config.yml:ro
    # Set the container filesystem as readonly
    read_only: true
    restart: unless-stopped
    # Add tmpfs for any temporary file needs
    tmpfs:
      - /tmp
